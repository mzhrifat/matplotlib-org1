t=int(input())
for _ in range(t):
n,c,q=map(int,input().split())
s=input
for _ in range(c):
l,r=map(int,input().split())
s+ = s[l-1 : r]

for _ in range(q):
k=int(input())

print (S[k-1])